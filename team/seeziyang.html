<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>See Zi Yang - Project Portfolio Page</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">LiBerry</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-F13-1/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>See Zi Yang - Project Portfolio Page</h1></div><div id="content"><div class="sect1">
<h2 id="project-liberry"><a class="link" href="#project-liberry">PROJECT: LiBerry</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>LiBerry is a desktop library management application for librarians to manage their books and borrowers.
It is a software optimized for librarians who prefer to work with a Command Line Interface (CLI), whereby interactions
with the software are done through text commands.<br></p>
</div>
<div class="paragraph">
<p>The main features of LiBerry include managing and searching for books, registering new borrowers,
borrowing books and recording fines.</p>
</div>
<div class="paragraph">
<p>This portfolio serves to demonstrate my proficiency in the various aspects of software engineering such as coding,
project management and technical writing skills in crafting documentation that fits the target user.<br></p>
</div>
<div class="paragraph">
<p>My role was to design and implement the code for the loan feature, which will be further elaborated in the following sections.
Also included are the details of the relevant documentation I have written in the user and developer guide to
assist users and other developers to understand these features.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of Contributions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section summarizes the contributions I have made to the team project.</p>
</div>
<div class="sect2">
<h3 id="main-enhancement-loaning-feature-br"><a class="link" href="#main-enhancement-loaning-feature-br">Main enhancement - Loaning feature<br></a></h3>
<div class="paragraph">
<p>I implemented the commands and functionality related to the loaning and returning of books.</p>
</div>
<div class="sect3">
<h4 id="what-it-does"><a class="link" href="#what-it-does">What it does</a></h4>
<div class="paragraph">
<p>This feature set allows our users, librarians, to <code>loan</code> books to borrowers, <code>return</code> loaned out books, <code>renew</code> loaned
out books such that their due dates are extended, and to <code>pay</code> fines incurred for overdue books.<br></p>
</div>
</div>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>As the main purpose of a library is to allow visitors to borrow books, this feature set is core to a library and is
needed for a library to function. The tracking of loaned out and returned books allows the user to easily manage a library. Allowing
librarians to renew loaned out books can help them better serve borrowers who want to read the books for a longer
period. The fine system for overdue books also ties in nicely with many libraries' policy of charging fines
to deter late returns.</p>
</div>
</div>
<div class="sect3">
<h4 id="highlights"><a class="link" href="#highlights">Highlights</a></h4>
<div class="paragraph">
<p>The implementation of these features was challenging as a whole new set of code had to be written to model each loan occurrence
and to store these information. The book, borrower and the loan object had to be linked efficiently to reduce duplicated information stored.
Moreover, a great deal of defensive programming was applied as there were many bounds to each of these features. For
example, these features should only work when certain conditions are met, such as when the user is currently serving borrowers
and the inputs correspond to a book that is not on loan.
Additionally, I also created utility classes like <code>DateUtil</code> and <code>FineUtil</code> to centralize utility functions that dealt with
dates and fines respectively.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="code-contributed"><a class="link" href="#code-contributed">Code contributed</a></h3>
<div class="paragraph">
<p><a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#=undefined&amp;search=seeziyang">Functional and Test code</a></p>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="sect3">
<h4 id="project-management"><a class="link" href="#project-management">Project management</a></h4>
<div class="ulist">
<ul>
<li>
<p>Managed the <a href="https://github.com/AY1920S1-CS2103T-F13-1/main/issues">issues</a> covered for each milestone and set up their deadlines. I also added each feature as an issue and
assigned them to the appropriate team member.</p>
</li>
<li>
<p>Set up two Github <a href="https://github.com/AY1920S1-CS2103T-F13-1/main/projects/">project boards</a>, one to brainstorm and prioritize user stories,
and another to keep track of the features and commands.</p>
</li>
<li>
<p>Updated the developer guide to include user stories, use cases and non-functional requirements. Done through pull requests:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F13-1/main/pull/81">#81</a> - Included user stories and non-functional requirements specific to LiBerry.</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F13-1/main/pull/157">#157</a> - Updated non-functional requirements and use cases and added a general use case diagram.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Maintained the team project website, including the site headers, navigation bar, badges and photos. Done through pull requests:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F13-1/main/pull/86">#86</a> - Updated Travis badges.</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F13-1/main/pull/97">#97</a> - Updated header, README, contact us, developer photos, role and responsibilities.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Managed the release of v1.1 of our project.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="enhancements-to-existing-features"><a class="link" href="#enhancements-to-existing-features">Enhancements to existing features</a></h4>
<div class="ulist">
<ul>
<li>
<p>Enhanced code for the <code>Borrower</code> class to be immutable. Done through pull request:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F13-1/main/pull/152">#152</a> - Modified fields in Borrower to be immutable and
added methods in the class to return new copies instead of mutating values in the current object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Upgraded the <code>set</code> command to support setting the maximum renew count such that librarians can define what is the maximum number of times
a book can be renewed.
Done through pull request:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F13-1/main/pull/178">#178</a> - Modified the <code>set</code> command to take in maximum renew
count and integrated this setting to the model component.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Updated the user interface to reflect more borrower-related details. Done through pull request:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-F13-1/main/pull/179">#179</a> - Updated panel dimensions to fit more results and
added more borrower-related information such as the total outstanding fine.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="documentation"><a class="link" href="#documentation">Documentation</a></h4>
<div class="ulist">
<ul>
<li>
<p>Wrote the quick start guide in the user guide.</p>
</li>
<li>
<p>Wrote the documentation and guide to the <code>Logic</code> component of our software in the developer guide.</p>
</li>
<li>
<p>Improved and rectified the flow, content, styling, legend and diagrams of the user guide and developer guide
according to feedback received from tutor and peers.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="community"><a class="link" href="#community">Community</a></h4>
<div class="ulist">
<ul>
<li>
<p>Gave in-depth and insightful <a href="https://github.com/AY1920S1-CS2103T-F13-1/main/pulls?q=is%3Apr+reviewed-by%3Aseeziyang+is%3Aclosed">reviews</a> of team members' pull requests.</p>
</li>
<li>
<p>Reviewed other team&#8217;s <a href="https://github.com/nus-cs2103-AY1920S1/addressbook-level3/pulls?q=is%3Apr+is%3Aopen+reviewed-by%3Aseeziyang">documentation</a>,
including their user stories, non-functional requirements and use of UML diagrams.</p>
</li>
<li>
<p>Contributed a helpful <a href="https://github.com/nus-cs2103-AY1920S1/forum/issues/169">tip</a> on the forum regarding the hiding
of URL links when printing to PDF.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="tools"><a class="link" href="#tools">Tools</a></h4>
<div class="ulist">
<ul>
<li>
<p>Integrated a new Github plugin, Coveralls, to the project repository. Coveralls was immensely helpful in tracking the
test coverage of our team&#8217;s code.</p>
</li>
<li>
<p>Set up Netlify for the project repository to easily and quickly preview changes made to the project website and documentation.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</p>
</div>
<div class="sect3">
<h4 id="loaning-book-s-code-loan-code"><a class="link" href="#loaning-book-s-code-loan-code">Loaning book(s): <code>loan</code></a></h4>
<div class="paragraph">
<p>Loan book(s) to the currently served borrower.<br>
The serial number of the book is used as the borrower would bring the physical copy of the book they want to borrow
to you. Thus, you do not have to search for the index of the book in the displayed book list.</p>
</div>
<div class="paragraph">
<p>Format: <code>loan sn/BOOK_SN</code><br>
Format: <code>loan sn/BOOK_SN [sn/BOOK_SN]&#8230;&#8203;</code> <strong>- Coming in v2.0</strong><br></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>loan sn/B00006</code><br>
You loan out the book with serial number B00006 to the currently served borrower.<br>
<br></p>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/ug-loan-pic.png" alt="ug loan pic" width="850">
</div>
<div class="title">Figure 1. The user interface after the book is loaned out.</div>
</div>
<div class="paragraph">
<p>After this command is entered, the command results display will provide you with a summary of which book is loaned
out and tho who it is loaned to. As seen from the screenshot, the book will also be added to the list of currently loaned out books in the borrower&#8217;s
panel on the right. Inside the main list on the left, an on-loan box would also indicate
this book as being loaned out.</p>
</div>
</li>
<li>
<p><code>loan sn/B00201 sn/B02929 sn/B00203</code> <strong>- Coming in v2.0</strong><br>
You loan out the books with serial numbers B00201, B02929 and B00203 to the currently served borrower.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="returning-book-s-code-return-code"><a class="link" href="#returning-book-s-code-return-code">Returning book(s): <code>return</code></a></h4>
<div class="paragraph">
<p>Return book(s) that were loaned by the borrower.<br>
Fine incurred for late returns will automatically be calculated and added to
the borrower&#8217;s total outstanding fines.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>return INDEX</code> or <code>return -all</code><br></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Returns the book at the specified <code>INDEX</code> in the <strong>borrower panel</strong> or <code>-all</code> of the currently served borrower&#8217;s loaned out books.</p>
</li>
<li>
<p><code>INDEX</code> indicates the book at this index number shown in the borrower&#8217;s book list on the right side of the UI.
The index <strong>must be a positive integer</strong> such as 1, 2 or 3, and must appear in the borrower panel.</p>
</li>
<li>
<p><code>-all</code> indicates all the books currently loaned out by the borrower.<br>
&#160;</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/ug-return.png" alt="ug return" width="850">
</div>
<div class="title">Figure 2. Screenshot to illustrate the return commands that can be entered.</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Referring to the above screenshot as an example, entering <code>return 1</code> would successfully return the book "Stefe Jobz".
However, entering <code>return 3</code> would be invalid as there&#8217;s no book at index 3 in the borrower panel. Entering <code>return -all</code>
would return all of Bobby&#8217;s loaned out books, which are "Stefe Jobz" and "Behaves".</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="renewing-book-s-code-renew-code"><a class="link" href="#renewing-book-s-code-renew-code">Renewing book(s): <code>renew</code></a></h4>
<div class="paragraph">
<p>Renew book(s) that are still loaned by the borrower, i.e., extend their due dates.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>renew INDEX</code> or <code>renew -all</code><br></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Renews the book at the specified <code>INDEX</code> in the <strong>borrower panel</strong> or all of the currently served borrower&#8217;s loaned out books that can still be renewed.</p>
</li>
<li>
<p><code>INDEX</code> indicates the book at this index number shown in the borrower&#8217;s book list on the right side of the UI.
The index <strong>must be a positive integer</strong> such as 1, 2 or 3, and must appear in the borrower panel.</p>
</li>
<li>
<p><code>-all</code> indicates all the books currently loaned out by the borrower that still can be renewed.</p>
</li>
<li>
<p>You cannot renew overdue books or books that have reached the maximum renew count.</p>
</li>
<li>
<p>If you just loaned out or renewed a book, you cannot renew that same book in the same Serve mode session.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="paying-fines-code-pay-code"><a class="link" href="#paying-fines-code-pay-code">Paying fines: <code>pay</code></a></h4>
<div class="paragraph">
<p>Receive AMOUNT (in dollars and up to 2 decimal places) from the currently served borrower to pay off his/her outstanding fines.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>pay $AMOUNT</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pay $12.80</code><br>
You receive $12.80 from the borrower to pay off his/her fine.<br>
<br></p>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/ug-pay.png" alt="ug pay" width="470">
</div>
<div class="title">Figure 3. The command results display after paying fines.</div>
</div>
<div class="paragraph">
<p>As seen from the screenshot above, after a fine amount is paid, a summary can be seen. You will see any outstanding fine the
borrower still has. If the borrower pays an amount greater than his/her total outstanding fine, you can refer to the change given line
to see how much change you should return to the borrower.</p>
</div>
</li>
<li>
<p><code>pay $5</code><br>
You receive $5 from the borrower to pay off his/her fine.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</p>
</div>
<div class="sect2">
<h3 id="book-loaning-feature"><a class="link" href="#book-loaning-feature">Book loaning feature</a></h3>
<div class="sect3">
<h4 id="details-of-implementation"><a class="link" href="#details-of-implementation">Details of Implementation</a></h4>
<div class="paragraph">
<p>The functionalities and commands associated with the book loaning feature are <code>loan</code>, <code>return</code>, <code>pay</code> and <code>renew</code>.
This feature set is mainly facilitated by the <code>Loan</code> association class between a <code>Book</code> and a <code>Borrower</code>.</p>
</div>
<div class="paragraph">
<p>The object diagram at the state when a book is just loaned out can be seen below.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/LoanObjectDiagram.png" alt="LoanObjectDiagram" width="800">
</div>
<div class="title">Figure 4. Loan object diagram after a new Loan is created</div>
</div>
<div class="paragraph">
<p>At that instant shown in the diagram, the <code>Borrower</code> with <code>BorrowerId</code> K0789 currently has a <code>Book</code> with <code>SerialNumber</code> B00456 loaned out.
The <code>Loan</code> associated with this book loan, with <code>LoanId</code> L000123, is stored in the <code>LoanRecords</code> class of the model component.
Both the <code>Book</code> and <code>Borrower</code> objects also have access to this <code>Loan</code> object.</p>
</div>
<div class="paragraph">
<p>In each <code>Loan</code> object, only the <code>BorrowerId</code> of the <code>Borrower</code> and <code>SerialNumber</code> of the <code>Book</code> is stored to reduce
circular dependency. The <code>LoanRecords</code> class stores all the <code>Loan</code> objects tracked by LiBerry in a HashMap, where the key is its <code>LoanId</code>.</p>
</div>
<div class="paragraph">
<p>The immutability of each object is supported to ensure the correctness of undo and redo functionality.</p>
</div>
<div class="sect4">
<h5 id="loaning"><a class="link" href="#loaning">Loaning</a></h5>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user enters a loan command.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/LoaningActivityDiagram.png" alt="LoaningActivityDiagram" width="580">
</div>
<div class="title">Figure 5. Activity diagram when a loan command is entered</div>
</div>
<div class="paragraph">
<p>After <code>LoanCommand#execute(model)</code> is called, this series of checks shown in the above diagram is done to determine if
the book can be loaned to the currently served borrower.</p>
</div>
<div class="paragraph">
<p>When a book is successfully loaned out to a borrower, a new <code>Loan</code> object is created. The <code>LoanId</code> is automatically generated according
to the number of loans in the <code>LoanRecords</code> object in the model. The <code>startDate</code> is also automatically set to today&#8217;s date.
The <code>endDate</code> is automatically set according to the loan period set in the user settings. This <code>Loan</code> object is added to
<code>LoanRecords</code> through the call to <code>Model#addLoan(loan)</code>.</p>
</div>
<div class="paragraph">
<p>The new <code>Borrower</code> instance is created by copying the details of the borrower from the original object, and also with this <code>Loan</code>
object being added into its <code>currentLoanList</code>. The new borrower object then replaces the old borrower object in the
<code>BorrowerRecords</code> object in the model. These two steps are done through the method call to <code>Model#servingBorrowerNewLoan(loan)</code>.
The new <code>Book</code> instance is also created by copying the details of the original book object, and likewise, with this <code>Loan</code> object added into it.
Similarly, the new book object replaces the old book object in the <code>Catalog</code> object in the model through the call to
<code>Model#setBook(bookToBeLoaned, loanedOutBook)</code>. These were done to support the immutability of the objects.</p>
</div>
</div>
<div class="sect4">
<h5 id="returning"><a class="link" href="#returning">Returning</a></h5>
<div class="paragraph">
<p>When a loaned out book is successfully returned by a borrower, the associated <code>Loan</code> object is moved from the borrower&#8217;s
<code>currentLoanList</code> to <code>returnedLoanList</code>. Inside the book object, this <code>Loan</code> object is also removed. Inside this loan
object, the <code>returnDate</code> is set to today&#8217;s date. The <code>remainingFineAmount</code> of this loan object is also
calculated based on the daily fine increment set in the user settings.</p>
</div>
<div class="paragraph">
<p>Similarly, the creation of new objects for replacement is also done to support immutability. The <code>return</code> command is supported by the
methods <code>Model#setBook(bookToBeReturned, returnedBook)</code>, <code>Model#servingBorrowerReturnLoan(returningLoan)</code> and
<code>Model#updateLoan(loanToBeReturned, returnedLoan)</code>, which updates the <code>Catalog</code>, <code>BorrowerRecords</code> and <code>LoanRecords</code>
in the model respectively.</p>
</div>
</div>
<div class="sect4">
<h5 id="paying-fines"><a class="link" href="#paying-fines">Paying fines</a></h5>
<div class="paragraph">
<p>When a fine amount is successfully paid by a borrower through the call to <code>Model#payFines(amountInCents)</code>,
the <code>remainingFineAmount</code> and <code>paidFineAmount</code> of the loans in the borrower&#8217;s <code>returnedLoanList</code> is updated accordingly.
The fine amount is tracked individually inside each loan object instead of as a variable inside the <code>Borrower</code> instance
that stores the total fine amount incurred by that borrower.
This is done to support the ease of extension in the future.
For example, the total fine each book has garnered can be easily calculated.</p>
</div>
<div class="paragraph">
<p>Similarly, the creation of new objects for replacement is also done to support immutability.</p>
</div>
</div>
<div class="sect4">
<h5 id="renewing"><a class="link" href="#renewing">Renewing</a></h5>
<div class="paragraph">
<p>The following sequence diagram illustrates the series of method calls when a <code>RenewCommand</code> is executed to renew book(s).</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/RenewSequenceDiagram.png" alt="RenewSequenceDiagram" width="700">
</div>
<div class="title">Figure 6. Sequence diagram illustrating the execution of a RenewCommand</div>
</div>
<div class="paragraph">
<p>As seen in the diagram, firstly, a list of books that can be renewed is obtained through the <code>RenewCommand#getRenewingBooks(model)</code> method.
For each <code>Loan</code> object associated with each book, a new instance is created with its original <code>renewCount</code> incremented by 1 and its
<code>dueDate</code> extended by the renew period set in the user settings. This is done through the method call to <code>Loan#renewLoan(extendedDueDate)</code>.
The call to <code>Book#renewBook(renewedLoan)</code> then returns a new instance of this book with its loan object updated.</p>
</div>
<div class="paragraph">
<p>The method calls to <code>Model#setBook(bookToBeRenewed, renewedBook)</code>, <code>Model#servingBorrowerRenewLoan(loanToBeRenewed, renewedLoan)</code>
and <code>Model#updateLoan(loanToBeRenewed, renewedLoan)</code> then updates the <code>Catalog</code>, <code>BorrowerRecords</code> and <code>LoanRecords</code> respectively.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-file-storage-of-loans"><a class="link" href="#aspect-file-storage-of-loans">Aspect: File storage of loans</a></h5>
<div class="paragraph">
<p>Inside the model, for each current loan (loans that are not returned yet), the <code>Book</code>, the <code>Borrower</code> and the <code>LoanRecords</code>
point to the same <code>Loan</code> object. LiBerry&#8217;s storage system is such that <code>Catalog</code> stores the books,
<code>BorrowerRecords</code> stores the borrowers and <code>LoanRecords</code> stores the loans. Thus, a decision was made to decide how these
loans are serialized and stored in the user&#8217;s file system.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1:</strong> Save the entire <code>Loan</code> object in each book in <code>catalog.json</code> and save the entirety of every single <code>Loan</code>
object associated with a borrower in <code>borrowerrecords.json</code>. The <code>Loan</code> object is also duplicated in <code>loanrecords.json</code>.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros</strong>: Easy to implement. No need to read storage files in a specific order.</p>
</li>
<li>
<p><strong>Cons</strong>: Storage memory size issues. The same information is duplicated and stored in all 3 storage files.<br>
<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 (selected choice):</strong> Save only the <code>LoanId</code> of each <code>Loan</code> object in each book in <code>catalog.json</code>
and save a list of <code>LoanId</code> in each borrower in <code>borrowerrecords.json</code>. The whole <code>Loan</code> object is only saved in
<code>loanrecords.json</code>. When reading the storage files at the start of the application, <code>loanrecords.json</code> needs to be read
in first, before the borrowers and books can be read in as they would get the loan objects from the <code>LoanRecords</code> based
on their <code>LoanId</code> s.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros</strong>: Uses less memory as only <code>LoanId</code> is stored for the books and borrowers, instead of the whole serialized loan objects.</p>
</li>
<li>
<p><strong>Cons</strong>: The reading of stored files have to be in a certain correct order. It must be ensured that the correct <code>Loan</code> object is referenced
after reading in <code>borrowerrecords.json</code> and <code>catalog.json</code>, and also every time a <code>Loan</code> object is updated. The method used to retrieve a <code>Loan</code> object from its <code>LoanId</code> must
also be fast enough as there can be hundreds of thousands of loans.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Alternative 2</strong> was chosen as this significantly reduced the file size of the storage files.
If alternative 1 was used, the memory needed to store each <code>Loan</code> object would be 3 times more compared to alternative 2.
Furthermore, <code>LoanRecords</code> could then also serve as a single source of truth for loan data.</p>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-recording-of-loans-in-loanrecords"><a class="link" href="#aspect-data-structure-to-support-recording-of-loans-in-loanrecords">Aspect: Data structure to support recording of loans in LoanRecords</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1:</strong> Use a list data structure, such as an <code>ArrayList</code> to store the loans in the model component.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros</strong>: Easy to implement. Easy to obtain insertion order of the loans and sort through the list.</p>
</li>
<li>
<p><strong>Cons</strong>: Slow to search for a <code>Loan</code> based on its <code>LoanId</code>, i.e., O(n) time, as the list must be traversed to find the
correct associated <code>Loan</code> object. The additional time taken adds up when reading the storage files during the starting
up of the application. Thus, it can make the application feel laggy and unresponsive at the start.<br>
<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 (selected choice):</strong> Use a <code>HashMap</code> to store the loans, where the key is its <code>LoanId</code>.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros</strong>: Fast to retrieve a <code>Loan</code> object based on its <code>LoanId</code>, i.e., O(1) time.</p>
</li>
<li>
<p><strong>Cons</strong>: Insertion order is not preserved. Have to traverse through all the loan objects in the HashMap to check their
<code>startDate</code> in order to obtain their insertion order.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Alternative 2</strong> was chosen as the application frequently needs to retrieve and access a <code>Loan</code> object based on its <code>LoanId</code>.
Thus, using a <code>HashMap</code> would greatly reduce the time needed for such operations. Moreover, the application rarely needed
to obtain the insertion order of a <code>Loan</code> object.</p>
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-10 15:18:49 UTC</div></div></div></body></html>